# habrArticleSrcDownloader (Go version)

A small command‑line utility written in Go that downloads the main body of a Habr article, converts it to **Markdown**, and saves it to a file whose name matches the article title.

_This repository was fully generated by AI and is based on https://github.com/dvjdjvu/habrArticleSrcDownloader._

## Features

- Fetches a single article from `https://habr.com`.
- Extracts the readable content using **go‑readability**.
- Converts the HTML body to clean Markdown with **html‑to‑markdown**.
- Generates a safe filename from the article title (illegal characters are replaced with underscores).
- Allows specifying an output directory.

## Prerequisites

- Go 1.20 or newer

## Installation

```bash
# Clone the repository (or copy the source files into your project)
git clone https://github.com/pamypas/habrArticleDownloader.git
cd habrArticleDownloader

# Download the required Go modules
go mod tidy

# Build the binary
go build -o habrdownloader main.go
```

The compiled binary `habrdownloader` will be created in the current directory.

## Build with Makefile

A simple `Makefile` is provided to streamline common tasks.

```bash
# Build the binary
make build

# Run the program (pass arguments via ARGS)
make run ARGS="-url https://habr.com/ru/post/123456/ -out ./articles"

# Clean the generated binary
make clean

# Update module dependencies
make tidy
```

## Usage

```bash
./habrdownloader -url <ARTICLE_URL> [-out <OUTPUT_DIRECTORY>]
```

| Flag   | Description                                                                                 | Required |
| ------ | ------------------------------------------------------------------------------------------- | -------- |
| `-url` | Full URL of the Habr article to download (e.g. `https://habr.com/ru/post/123456/`).         | Yes      |
| `-out` | Directory where the Markdown file will be saved. Defaults to the current working directory. | No       |

### Example

```bash
# Download an article and save it in the current folder
./habrdownloader -url https://habr.com/ru/post/665254/

# Save the article to a specific folder
./habrdownloader -url https://habr.com/ru/post/665254/ -out ./articles
```

After execution you will see a message similar to:

```
Article saved to ./articles/My_Article_Title.md
```

The file name is derived from the article title, with spaces and illegal characters replaced by underscores, and the `.md` extension added automatically.

---
