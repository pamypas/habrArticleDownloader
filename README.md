# habrArticleDownloader (Go версия)

Небольшая утилита командной строки, написанная на Go, которая загружает основное содержание статьи с Habr, конвертирует его в **Markdown** и сохраняет в файл, имя которого соответствует заголовку статьи.

_Этот репозиторий полностью сгенерирован ИИ и основан на https://github.com/dvjdjvu/habrArticleSrcDownloader._

## Возможности

- Загружает одну статью с `https://habr.com`.
- Извлекает читаемое содержание с помощью **go‑readability**.
- Преобразует HTML‑тело в чистый Markdown с помощью **html‑to‑markdown**.
- Генерирует имя файла из заголовка статьи (недопустимые символы заменяются на подчёркивания).
- Позволяет указать каталог вывода.
- Изображения не скачиваются, а отображаются как ссылки в Markdown.

## Требования

- Go 1.20 или новее

## Установка

```bash
# Клонируйте репозиторий (или скопируйте исходные файлы в ваш проект)
git clone https://github.com/pamypas/habrArticleDownloader.git
cd habrArticleDownloader

# Скачайте необходимые модули Go
go mod tidy

# Сборка бинарного файла
go build -o habrdownloader main.go
```

Скомпилированный бинарный файл `habrdownloader` будет создан в текущем каталоге.

## Сборка с помощью Makefile

Простой `Makefile` упрощает типовые задачи.

```bash
# Сборка бинарного файла
make build

# Запуск программы (передача аргументов через ARGS)
make run ARGS="-url https://habr.com/ru/post/123456/ -out ./articles"

# Очистка сгенерированного бинарного файла
make clean

# Обновление зависимостей модулей
make tidy
```

## Использование

```bash
./habrdownloader -url <URL_СТАТЬИ> [-out <КАТАЛОГ_ВЫВОДА>]
```

| Флаг   | Описание                                                                                 | Обязательно |
| ------ | ---------------------------------------------------------------------------------------- | ----------- |
| `-url` | Полный URL статьи Habr (например, `https://habr.com/ru/post/123456/`).                   | Да          |
| `-out` | Каталог, в который будет сохранён Markdown‑файл. По умолчанию — текущий рабочий каталог. | Нет         |

### Примеры

```bash
# Скачать статью и сохранить её в текущий каталог
./habrdownloader -url https://habr.com/ru/post/665254/

# Сохранить статью в конкретный каталог
./habrdownloader -url https://habr.com/ru/post/665254/ -out ./articles
```

После выполнения вы увидите сообщение примерно такого вида:

```
Article saved to ./articles/My_Article_Title.md
```

Имя файла формируется из заголовка статьи: пробелы и недопустимые символы заменяются подчёркиваниями, а расширение `.md` добавляется автоматически.

---
